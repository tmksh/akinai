-- ============================================
-- アキナイCMS サンプルデータ投入
-- ============================================

-- ============================================
-- 1. ユーザー
-- ============================================
INSERT INTO users (id, email, name, role, is_active) VALUES
  ('11111111-1111-1111-1111-111111111111', 'admin@example.com', '管理者 太郎', 'admin', true),
  ('22222222-2222-2222-2222-222222222222', 'manager@example.com', 'マネージャー 花子', 'manager', true),
  ('33333333-3333-3333-3333-333333333333', 'editor@example.com', '編集者 次郎', 'editor', true);

-- ============================================
-- 2. カテゴリ
-- ============================================
INSERT INTO categories (id, name, slug, description, sort_order) VALUES
  ('a1111111-1111-1111-1111-111111111111', '家電', 'electronics', '家電製品カテゴリ', 1),
  ('a2222222-2222-2222-2222-222222222222', 'ファッション', 'fashion', 'ファッションアイテム', 2),
  ('a3333333-3333-3333-3333-333333333333', '食品', 'food', '食品・飲料', 3),
  ('a4444444-4444-4444-4444-444444444444', '雑貨', 'goods', '生活雑貨', 4);

-- ============================================
-- 3. 商品
-- ============================================
INSERT INTO products (id, name, slug, description, short_description, status, tags, featured) VALUES
  ('b1111111-1111-1111-1111-111111111111', 'プレミアムワイヤレスイヤホン', 'premium-wireless-earphones', '高音質なワイヤレスイヤホン。ノイズキャンセリング機能搭載で、クリアな音質を楽しめます。', '高音質ノイズキャンセリング対応', 'published', ARRAY['新商品', '人気'], true),
  ('b2222222-2222-2222-2222-222222222222', 'オーガニックコットンTシャツ', 'organic-cotton-tshirt', '肌に優しいオーガニックコットン100%のTシャツ。シンプルなデザインで着回し力抜群。', 'オーガニックコットン100%', 'published', ARRAY['人気', 'セール'], true),
  ('b3333333-3333-3333-3333-333333333333', '特選 宇治抹茶セット', 'uji-matcha-set', '京都宇治産の高級抹茶と茶器のセット。本格的な抹茶を自宅で楽しめます。', '宇治抹茶と茶器セット', 'published', ARRAY['ギフト', '限定'], false),
  ('b4444444-4444-4444-4444-444444444444', 'スマートウォッチ Pro', 'smartwatch-pro', '健康管理からメッセージ通知まで。日常をスマートにサポートする高機能スマートウォッチ。', '多機能スマートウォッチ', 'published', ARRAY['新商品'], true),
  ('b5555555-5555-5555-5555-555555555555', 'ハンドメイド革財布', 'handmade-leather-wallet', '職人が一つ一つ丁寧に仕上げた本革財布。使い込むほどに味わいが増します。', '職人仕上げの本革財布', 'draft', ARRAY['限定'], false);

-- 商品カテゴリ紐付け
INSERT INTO product_categories (product_id, category_id) VALUES
  ('b1111111-1111-1111-1111-111111111111', 'a1111111-1111-1111-1111-111111111111'),
  ('b2222222-2222-2222-2222-222222222222', 'a2222222-2222-2222-2222-222222222222'),
  ('b3333333-3333-3333-3333-333333333333', 'a3333333-3333-3333-3333-333333333333'),
  ('b4444444-4444-4444-4444-444444444444', 'a1111111-1111-1111-1111-111111111111'),
  ('b5555555-5555-5555-5555-555555555555', 'a4444444-4444-4444-4444-444444444444');

-- ============================================
-- 4. 商品バリアント
-- ============================================
INSERT INTO product_variants (id, product_id, name, sku, price, compare_at_price, stock, low_stock_threshold) VALUES
  ('c1111111-1111-1111-1111-111111111111', 'b1111111-1111-1111-1111-111111111111', 'ブラック', 'EAR-BLK-001', 15800, 19800, 25, 5),
  ('c1111111-1111-1111-1111-222222222222', 'b1111111-1111-1111-1111-111111111111', 'ホワイト', 'EAR-WHT-001', 15800, 19800, 18, 5),
  ('c2222222-2222-2222-2222-111111111111', 'b2222222-2222-2222-2222-222222222222', 'Sサイズ / ホワイト', 'TSH-S-WHT', 3980, 4980, 30, 10),
  ('c2222222-2222-2222-2222-222222222222', 'b2222222-2222-2222-2222-222222222222', 'Mサイズ / ホワイト', 'TSH-M-WHT', 3980, 4980, 45, 10),
  ('c2222222-2222-2222-2222-333333333333', 'b2222222-2222-2222-2222-222222222222', 'Lサイズ / ホワイト', 'TSH-L-WHT', 3980, 4980, 20, 10),
  ('c2222222-2222-2222-2222-444444444444', 'b2222222-2222-2222-2222-222222222222', 'Sサイズ / ブラック', 'TSH-S-BLK', 3980, 4980, 15, 10),
  ('c2222222-2222-2222-2222-555555555555', 'b2222222-2222-2222-2222-222222222222', 'Mサイズ / ブラック', 'TSH-M-BLK', 3980, 4980, 8, 10),
  ('c3333333-3333-3333-3333-111111111111', 'b3333333-3333-3333-3333-333333333333', '標準セット', 'MCH-SET-001', 5500, NULL, 12, 3),
  ('c3333333-3333-3333-3333-222222222222', 'b3333333-3333-3333-3333-333333333333', 'プレミアムセット', 'MCH-SET-002', 8800, NULL, 5, 3),
  ('c4444444-4444-4444-4444-111111111111', 'b4444444-4444-4444-4444-444444444444', 'シルバー', 'SWT-SLV-001', 32800, 39800, 10, 3),
  ('c4444444-4444-4444-4444-222222222222', 'b4444444-4444-4444-4444-444444444444', 'ブラック', 'SWT-BLK-001', 32800, 39800, 15, 3),
  ('c5555555-5555-5555-5555-111111111111', 'b5555555-5555-5555-5555-555555555555', 'ブラウン', 'WLT-BRN-001', 28000, NULL, 3, 2);

-- ============================================
-- 5. 顧客
-- ============================================
INSERT INTO customers (id, type, name, email, phone, company, total_orders, total_spent, tags) VALUES
  ('d1111111-1111-1111-1111-111111111111', 'individual', '山田 太郎', 'yamada@example.com', '090-1234-5678', NULL, 5, 125000, ARRAY['リピーター', 'VIP']),
  ('d2222222-2222-2222-2222-222222222222', 'business', '株式会社サンプル', 'contact@sample-corp.jp', '03-1234-5678', '株式会社サンプル', 12, 580000, ARRAY['法人', 'VIP']),
  ('d3333333-3333-3333-3333-333333333333', 'individual', '佐藤 花子', 'sato@example.com', '080-9876-5432', NULL, 2, 35000, ARRAY['新規']),
  ('d4444444-4444-4444-4444-444444444444', 'individual', '鈴木 一郎', 'suzuki@example.com', NULL, NULL, 1, 15800, ARRAY[]::text[]);

-- 顧客住所
INSERT INTO customer_addresses (customer_id, postal_code, prefecture, city, line1, line2, phone, is_default) VALUES
  ('d1111111-1111-1111-1111-111111111111', '100-0001', '東京都', '千代田区', '丸の内1-1-1', 'サンプルビル3F', '090-1234-5678', true),
  ('d2222222-2222-2222-2222-222222222222', '150-0001', '東京都', '渋谷区', '渋谷2-2-2', 'サンプルタワー10F', '03-1234-5678', true),
  ('d3333333-3333-3333-3333-333333333333', '530-0001', '大阪府', '大阪市北区', '梅田3-3-3', NULL, '080-9876-5432', true);

-- ============================================
-- 6. 注文
-- ============================================
INSERT INTO orders (id, order_number, customer_id, customer_name, customer_email, subtotal, shipping_cost, tax, total, status, payment_status, payment_method, shipping_address) VALUES
  ('e1111111-1111-1111-1111-111111111111', 'ORD-2024-0001', 'd1111111-1111-1111-1111-111111111111', '山田 太郎', 'yamada@example.com', 31600, 550, 3215, 35365, 'delivered', 'paid', 'credit_card', '{"postalCode": "100-0001", "prefecture": "東京都", "city": "千代田区", "line1": "丸の内1-1-1", "line2": "サンプルビル3F", "phone": "090-1234-5678"}'),
  ('e2222222-2222-2222-2222-222222222222', 'ORD-2024-0002', 'd2222222-2222-2222-2222-222222222222', '株式会社サンプル', 'contact@sample-corp.jp', 98400, 0, 9840, 108240, 'shipped', 'paid', 'invoice', '{"postalCode": "150-0001", "prefecture": "東京都", "city": "渋谷区", "line1": "渋谷2-2-2", "line2": "サンプルタワー10F", "phone": "03-1234-5678"}'),
  ('e3333333-3333-3333-3333-333333333333', 'ORD-2024-0003', 'd3333333-3333-3333-3333-333333333333', '佐藤 花子', 'sato@example.com', 7960, 550, 851, 9361, 'processing', 'paid', 'credit_card', '{"postalCode": "530-0001", "prefecture": "大阪府", "city": "大阪市北区", "line1": "梅田3-3-3", "phone": "080-9876-5432"}'),
  ('e4444444-4444-4444-4444-444444444444', 'ORD-2024-0004', 'd4444444-4444-4444-4444-444444444444', '鈴木 一郎', 'suzuki@example.com', 15800, 550, 1635, 17985, 'pending', 'pending', 'credit_card', '{"postalCode": "160-0022", "prefecture": "東京都", "city": "新宿区", "line1": "新宿4-4-4", "phone": "070-1111-2222"}');

-- 注文明細
INSERT INTO order_items (order_id, product_id, variant_id, product_name, variant_name, sku, quantity, unit_price, total_price) VALUES
  ('e1111111-1111-1111-1111-111111111111', 'b1111111-1111-1111-1111-111111111111', 'c1111111-1111-1111-1111-111111111111', 'プレミアムワイヤレスイヤホン', 'ブラック', 'EAR-BLK-001', 2, 15800, 31600),
  ('e2222222-2222-2222-2222-222222222222', 'b4444444-4444-4444-4444-444444444444', 'c4444444-4444-4444-4444-111111111111', 'スマートウォッチ Pro', 'シルバー', 'SWT-SLV-001', 3, 32800, 98400),
  ('e3333333-3333-3333-3333-333333333333', 'b2222222-2222-2222-2222-222222222222', 'c2222222-2222-2222-2222-111111111111', 'オーガニックコットンTシャツ', 'Sサイズ / ホワイト', 'TSH-S-WHT', 2, 3980, 7960),
  ('e4444444-4444-4444-4444-444444444444', 'b1111111-1111-1111-1111-111111111111', 'c1111111-1111-1111-1111-222222222222', 'プレミアムワイヤレスイヤホン', 'ホワイト', 'EAR-WHT-001', 1, 15800, 15800);

-- ============================================
-- 7. 見積
-- ============================================
INSERT INTO quotes (id, quote_number, customer_id, customer_name, customer_company, subtotal, discount, tax, total, status, valid_until, notes) VALUES
  ('f1111111-1111-1111-1111-111111111111', 'QUO-2024-0001', 'd2222222-2222-2222-2222-222222222222', '株式会社サンプル', '株式会社サンプル', 164000, 16400, 14760, 162360, 'sent', '2024-02-28', '大量購入のためボリュームディスカウント適用'),
  ('f2222222-2222-2222-2222-222222222222', 'QUO-2024-0002', 'd2222222-2222-2222-2222-222222222222', '株式会社サンプル', '株式会社サンプル', 280000, 0, 28000, 308000, 'negotiating', '2024-03-15', 'カスタマイズ対応の見積もり');

-- 見積明細
INSERT INTO quote_items (quote_id, product_id, variant_id, product_name, variant_name, quantity, unit_price, discount, total_price) VALUES
  ('f1111111-1111-1111-1111-111111111111', 'b4444444-4444-4444-4444-444444444444', 'c4444444-4444-4444-4444-111111111111', 'スマートウォッチ Pro', 'シルバー', 5, 32800, 16400, 147600),
  ('f2222222-2222-2222-2222-222222222222', 'b5555555-5555-5555-5555-555555555555', 'c5555555-5555-5555-5555-111111111111', 'ハンドメイド革財布', 'ブラウン', 10, 28000, 0, 280000);

-- ============================================
-- 8. コンテンツカテゴリ
-- ============================================
INSERT INTO content_categories (id, name, slug, type, sort_order) VALUES
  ('11111111-aaaa-1111-1111-111111111111', 'お知らせ', 'announcements', 'news', 1),
  ('22222222-aaaa-2222-2222-222222222222', 'コラム', 'columns', 'article', 2),
  ('33333333-aaaa-3333-3333-333333333333', '特集', 'features', 'feature', 3);

-- ============================================
-- 9. コンテンツ
-- ============================================
INSERT INTO contents (id, type, title, slug, excerpt, status, author_id, tags, blocks) VALUES
  ('11111111-bbbb-1111-1111-111111111111', 'news', '年末年始の営業のお知らせ', 'year-end-notice', '年末年始の営業時間についてお知らせいたします。', 'published', '11111111-1111-1111-1111-111111111111', ARRAY['お知らせ'], '[{"id": "1", "type": "text", "content": {"text": "いつもご利用いただきありがとうございます。年末年始の営業についてお知らせいたします。"}}]'),
  ('22222222-bbbb-2222-2222-222222222222', 'article', '2024年おすすめ商品10選', 'recommended-2024', '今年イチオシの商品をご紹介します。', 'published', '33333333-3333-3333-3333-333333333333', ARRAY['おすすめ', '特集'], '[{"id": "1", "type": "text", "content": {"text": "2024年、特におすすめしたい商品を厳選してご紹介します。"}}]'),
  ('33333333-bbbb-3333-3333-333333333333', 'feature', '職人の技：革財布ができるまで', 'craftsman-wallet', '熟練職人が手がける革財布の製作工程を追いました。', 'draft', '33333333-3333-3333-3333-333333333333', ARRAY['特集', 'ものづくり'], '[{"id": "1", "type": "text", "content": {"text": "一つ一つ丁寧に仕上げられる革財布。その製作過程をご紹介します。"}}]');

-- コンテンツカテゴリ紐付け
INSERT INTO content_category_relations (content_id, category_id) VALUES
  ('11111111-bbbb-1111-1111-111111111111', '11111111-aaaa-1111-1111-111111111111'),
  ('22222222-bbbb-2222-2222-222222222222', '22222222-aaaa-2222-2222-222222222222'),
  ('33333333-bbbb-3333-3333-333333333333', '33333333-aaaa-3333-3333-333333333333');

-- ============================================
-- 10. 在庫移動履歴
-- ============================================
INSERT INTO stock_movements (product_id, variant_id, type, quantity, previous_stock, new_stock, reason, created_by) VALUES
  ('b1111111-1111-1111-1111-111111111111', 'c1111111-1111-1111-1111-111111111111', 'in', 30, 0, 30, '初期入庫', '管理者 太郎'),
  ('b1111111-1111-1111-1111-111111111111', 'c1111111-1111-1111-1111-111111111111', 'out', -5, 30, 25, '注文出荷 ORD-2024-0001', '管理者 太郎'),
  ('b2222222-2222-2222-2222-222222222222', 'c2222222-2222-2222-2222-555555555555', 'adjustment', -2, 10, 8, '棚卸し調整', 'マネージャー 花子');
